package main

import "text/template"

const (
	funcArgTmpl  = "%s %s,"
	mapArgTmpl   = "\"%s\": %s,"
	sliceArgTmpl = "%s,"
)

const generatedActionsFileTmplSource = `// Code generated by sql2gogen. DO NOT EDIT.
package {{ .GenPackage }}
{{ if ne (len .ImportPackages) 0 }}
import (
{{- range .ImportPackages }}
	{{ . }}
{{- end }}
)
{{ end }}
var {{ .StmtMapName }} = map[string]string{
{{- range $name, $data := .StmtItems }}	
	"{{ $name }}": "{{ $data.Stmt }}",
{{- end}}
}

{{ range $name, $data := .StmtItems }}
func {{ $data.Function.Name }}(
	{{ $data.Function.Args }}
) (string, {{ $.ReturnValueType }}) {
	return {{ $.StmtMapName }}["{{ $name }}"], {{ $.ReturnValueType }}{
		{{ $data.Function.ReturnValueItems }}
	}
}
{{ end }}
`

var generatedActionsFileTmpl = template.Must(template.New("generated_file").Parse(generatedActionsFileTmplSource))
